(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{3026:function(e,n,t){"use strict";t.r(n);var o=t("7bab"),i=t("fb9d");for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("3e7d");var c,s=t("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"290fd5a8",null,!1,o["a"],c);n["default"]=r.exports},"3e7d":function(e,n,t){"use strict";var o=t("90bc"),i=t.n(o);i.a},7359:function(e,n,t){"use strict";(function(e){t("20a1");o(t("66fd"));var n=o(t("3026"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"7bab":function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var i=function(){var e=this,n=e.$createElement;e._self._c},a=[]},"90bc":function(e,n,t){},b70f:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("8c40"),i={data:function(){return{isCanUse:e.getStorageSync("isCanUse"),nickName:"",avatarUrl:"",bgImg:["",""],imgTime:"",imgIndex:0,codeName:"验证码",isCode:!0,tel:"",smscode:"",wxcode:""}},props:{},onLoad:function(e){this.wxlogin()},onReady:function(){},onShow:function(){this.setbImg()},onHide:function(){clearInterval(this.imgTime)},onUnload:function(){clearInterval(this.imgTime)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getUserInfo:function(){e.getUserProfile({desc:"用于完善登录资料",provider:"weixin",success:function(n){console.log(n),(0,o.setUserInfo)(n.userInfo);try{e.setStorageSync("isCanUse",1),e.switchTab({url:"/pages/views/tabBar/home"})}catch(t){}},fail:function(e){console.log(e)}})},setbImg:function(){clearInterval(this.imgTime);var e=this;console.log("执行了");var n=setInterval((function(){var n=e.imgIndex+1;n>=e.bgImg.length&&(n=0),e.setData({imgIndex:n})}),15e3);this.setData({imgTime:n})},onlogin:function(){(new Date).getTime();var n={avatarUrl:"/static/images/face.jpg",nickName:"用户2020"};(0,o.setUserInfo)(n),e.showLoading({title:"登录中..."}),setTimeout((function(){e.hideLoading(),e.showToast({title:"登陆成功"})}),500),setTimeout((function(){e.navigateBack(-1)}),1500)},getCode:function(){if(0!=this.isCode){if(""!=this.tel)return/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.tel)?void this.getPhoneCode():(e.showToast({title:"请填写正确手机号码",icon:"none"}),!1);e.showToast({title:"请输入手机号",icon:"none"})}},getPhoneCode:function(){var n="",t=120,o=this;1==o.isCode&&(e.showToast({title:"验证码发送成功~",icon:"none"}),clearInterval(n),setInterval((function(){t>=1?(t--,o.codeName=t+"秒重试",o.isCode=!1):(o.isCode=!0,o.codeName="验证码",clearInterval(n))}),1e3))},wxlogin:function(){var n=this;e.login({provider:"weixin",success:function(e){console.log("这是用户的code",e),n.setData({wxcode:e.code})}})},onAuthorize:function(){e.showToast({title:"对接你的公众号登录方法",icon:"none"})}}};n.default=i}).call(this,t("543d")["default"])},fb9d:function(e,n,t){"use strict";t.r(n);var o=t("b70f"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a}},[["7359","common/runtime","common/vendor"]]]);